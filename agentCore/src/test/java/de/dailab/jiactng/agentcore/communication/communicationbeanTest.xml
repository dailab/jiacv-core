<beans 
    xmlns="http://www.springframework.org/schema/beans" 
    xmlns:amq="http://activemq.org/config/1.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"> 
    
    <bean name="myPlatform" class="de.dailab.jiactng.agentcore.SimpleAgentNode">
        <property name="agents">
            <list>
                <ref bean="TestAgent"/>
            </list>
        </property>
        <property name="embeddedBroker" ref="embeddedBroker"/>
    </bean>
    
    
    <bean name="TestAgent" class="de.dailab.jiactng.agentcore.Agent" singleton="false">
        <property name="memory"><ref bean="memory"/></property>
        <property name="execution"><ref bean="simpleExecCycle"/></property>
        <property name="adaptors">
            <list>
                <!--ref bean="dummyBean"/-->
                <ref bean="communicationBean"/>
                <ref bean="pingBean"/>
                <ref bean="monitor"/>
            </list>
        </property>
    </bean>
    
    <bean id="communicationBean" class="de.dailab.jiactng.agentcore.communication.CommunicationBean">
        <property name="connectionFactory" ref="connectionFactory"/>
        <property name="localQueueName"    value="local-queue"/>
        <property name="resolverTopicName" value="gossip"/>
    </bean>
        
    <bean id="connectionFactory" class="org.apache.activemq.ActiveMQConnectionFactory"/>

    <bean id="embeddedBroker" class="de.dailab.jiactng.agentcore.communication.jms.broker.ActiveMQBroker" init-method="springStart" destroy-method="springStop">
        <property name="brokerName"           value="TestBroker"/>
        <property name="brokerUrl"            value="tcp://localhost:61616"/>
        <property name="brokerUseJmx"         value="true"/>
        <property name="brokerUsePersistence" value="false"/>
    </bean>
    
    <bean name="memory" class="de.dailab.jiactng.agentcore.knowledge.Memory" singleton="false"/>
    
    <bean name="monitor" class="de.dailab.jiactng.agentcore.knowledge.MemoryMonitor" singleton="false"/>
        
    <bean name="pingBean" class="de.dailab.jiactng.agentcore.communication.PingAgentBean" singleton="false"/>
    
    <bean name="pingBean" class="de.dailab.jiactng.agentcore.communication.PingAgentBean" singleton="false"/>
    
    <bean name="simpleExecCycle" class="de.dailab.jiactng.agentcore.SimpleExecutionCycle" singleton="false"/>
    
</beans>
